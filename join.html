<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Defines Screen Rendering -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <!-- Defines Page Properties -->
        <title>ImagineTTRPG</title>
        <link rel="icon" href="assets/imgs/icon.png">
            
        <!-- Defines Styles -->
        <link rel="stylesheet" href="./styles/navbar.css">
        <link rel="stylesheet" href="./styles/footer.css">
        <link rel="stylesheet" href="./styles/content_body.css">
        <link rel="stylesheet" href="./styles/overall.css">
        <!--<link rel="stylesheet" href="./styles/joinform.css">-->
    
        <!-- Loads the Navbar and Navbar Logic -->
        <script src="src/loaders/navbar_loader.js" defer></script>
        <script src="src/logic/navbar_logic.js"></script>
        <script src="src/loaders/mobile_menu_loader.js" defer></script>
    
        <!-- Loads the Footer -->
        <script src="src/loaders/footer_loader.js" defer></script>
    
        <!-- Loads the Form Submission Logic -->
        <script>
            async function handleSubmit(event) {
                event.preventDefault(); // Prevent form default behavior

                const form = event.target;
                const formData = new FormData(form);

                const data = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    plan: formData.get('plan'),
                };

                try {
                    // Example POST request to a backend endpoint
                    const response = await fetch('https://example.com/api/join', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data),
                    });

                    const result = await response.json();
                    alert(result.message || 'Thank you for joining!');
                    form.reset(); // Clear form fields
                } catch (error) {
                    console.error('Error:', error);
                    alert('There was an issue. Please try again.');
                }
            }
        </script>
    </head>
<body>
    <!-- Navbar and Mobile Menu -->
    <nav class="navbar"></nav>
    <div class="mobile-menu" id="mobileMenu"></div>

    <div class="content-body">
        <h1>Why Join</h1>
        <p>By joining our mailing list you will receive exclusive and early content. To sign up, provide your email to subscribe. If you decide to leave, you can unsubscribe at any time.</p>

        <h1>Join</h1>
        <form id="joinForm" onsubmit="handleSubmit(event)">
            <label for="name"><p>Name:</p></label>
            <input type="text" id="name" name="name" required placeholder="Your Name">
            <br>

            <label for="email"><p>Email:</p></label>
            <input type="email" id="email" name="email" required placeholder="Your Email">
            <br><br>

            <button type="submit">Join Now</button>
        </form>
    </div>

    <div class="footer"></div>
</body>
</html>
